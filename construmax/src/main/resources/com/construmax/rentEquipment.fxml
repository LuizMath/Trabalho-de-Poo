<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<StackPane stylesheets="@Styles/RentEquipment.css"
           xmlns:fx="http://javafx.com/fxml"
           fx:controller="com.construmax.Controllers.RentEquipmentController">

    <children>
        <VBox alignment="TOP_CENTER" spacing="20" styleClass="main-form" maxWidth="800">

            <children>

                <!-- Título -->
                <Label text="Alugar Equipamento - Gestão de Contratos" styleClass="text-primary"/>

                <!-- 1. Dados do Cliente -->
                <VBox spacing="15">
                    <children>
                        <Label style="-fx-font-size: 16px" text="1. Dados do Cliente (Locatário)"/>
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <children>
                                <TextField styleClass="input-primary" fx:id="nameField" disable="true" promptText="Nome"/>
                                <TextField styleClass="input-primary" fx:id="cpfField" disable="true" promptText="CPF"/>
                            </children>
                        </HBox>
                    </children>
                </VBox>

                <Separator/>

                <!-- 2. Equipamentos -->
                <VBox spacing="15">
                    <children>
                        <Label style="-fx-font-size: 16px" text="2. Seleção de Equipamentos Disponíveis"/>
                        <TableView fx:id="equipmentTable" prefHeight="200" editable="true">
                            <columns>
                                <TableColumn fx:id="colSelect" text="Sel." prefWidth="50"/>
                                <TableColumn fx:id="colQtd" text="Qtd." prefWidth="50"/>
                                <TableColumn fx:id="colName" text="Nome" prefWidth="150"/>
                                <TableColumn fx:id="colType" text="Tipo" prefWidth="150"/>
                                <TableColumn fx:id="availableQuantity" text="Quantidade Disponível" prefWidth="150"/>
                                <TableColumn fx:id="colDailyValue" text="Diária (R$)" prefWidth="100"/>
                            </columns>
                        </TableView>
                    </children>
                </VBox>

                <Separator/>

                <!-- 3. Prazos e valores -->
                <VBox spacing="15">
                    <children>
                        <Label style="-fx-font-size: 16px" text="3. Prazos e Valores do Contrato"/>

                        <HBox spacing="20">
                            <children>
                                <VBox spacing="5">
                                    <children>
                                        <Label text="Data de Início da Locação"/>
                                        <DatePicker fx:id="startDatePicker" promptText="Início" onAction="#calculateTotal"/>
                                    </children>
                                </VBox>

                                <VBox spacing="5">
                                    <children>
                                        <Label text="Data Prevista de Devolução"/>
                                        <DatePicker fx:id="endDatePicker" promptText="Devolução" onAction="#calculateTotal"/>
                                    </children>
                                </VBox>
                            </children>
                        </HBox>

                        <VBox spacing="10" style="-fx-background-color: #ecf0f1; -fx-padding: 15;">
                            <children>
                                <Label fx:id="vipStatusLabel" style="-fx-font-size: 16px;"/>
                                <Label fx:id="totalValueLabel" text="Valor Bruto: R$ 0,00" style="-fx-font-size: 14px;"/>
                                <Label fx:id="discountLabel" text="Desconto VIP (10%): R$ 0,00" 
                                       style="-fx-font-size: 14px; -fx-text-fill: gold; -fx-font-weight: bold;"/>
                                <Separator/>
                                <Label fx:id="finalValueLabel" text="Valor Final: R$ 0,00"
                                       style="-fx-font-weight: bold; -fx-font-size: 18px; -fx-text-fill: green;"/>
                            </children>
                        </VBox>

                        <Button text="Criar Contrato de Locação"
                                fx:id="submitContractButton"
                                onAction="#createContract"
                                styleClass="submit-button"
                                maxWidth="Infinity"/>
                    </children>
                </VBox>

            </children>

        </VBox>
    </children>

    <padding>
        <Insets top="10" right="10" bottom="10" left="10"/>
    </padding>

</StackPane>
